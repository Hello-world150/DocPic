<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="DocPic.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:DocPic"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    mc:Ignorable="d"
    Title="DocPic">

    <Window.SystemBackdrop>
        <MicaBackdrop Kind="Base"/>
    </Window.SystemBackdrop>

    <Grid>
        <Grid.RowDefinitions>
            <!-- Tite Bar-->
            <RowDefinition Height="Auto" />
            <!-- Toolbar -->
            <RowDefinition Height="Auto" />
            <!-- App Content -->
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <TitleBar x:Name="AppTitleBar"
                  Title="DocPic">
            <TitleBar.IconSource>
                <FontIconSource Glyph="&#xE8A5;"/>
            </TitleBar.IconSource>
        </TitleBar>
        
        <!-- Command Bar -->
        <CommandBar Grid.Row="1" 
                    IsOpen="False" 
                    DefaultLabelPosition="Right">
            <AppBarButton Icon="OpenFile" Label="打开文档" Click="OpenFile"/>
        </CommandBar>

        <!-- Document Content Viewer -->
        <Grid Grid.Row="2" 
              Background="{ThemeResource DocumentViewerBackgroundBrush}">
            <Border x:Name="DocumentBorder"
                    Margin="40,20"
                    Background="{ThemeResource DocumentPageBackgroundBrush}"
                    CornerRadius="8"
                    BorderThickness="1"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    Padding="20">
                <Border.Shadow>
                    <ThemeShadow />
                </Border.Shadow>
                <WebView2 x:Name="DocumentViewer"/>
            </Border>
            <RichTextBlock x:Name="DocumentContent" 
                          TextWrapping="Wrap"
                          IsTextSelectionEnabled="True"
                          MaxWidth="800"
                          HorizontalAlignment="Left"
                          Visibility="Collapsed"/>
        </Grid>
    </Grid>
</Window>
